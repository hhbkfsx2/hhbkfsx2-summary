\section{Lernfeld 6: Programmieren - C-Sharp}

\subsection{Objektorientierung}

Ein Objekt ist eine Instanz einer Klasse. Ein Objekt hat Attribute und beherrscht Methoden. Attribute sind Konstanten oder Variablen mit einem festen Datentyp. In der Regel sind Attribute private, dass bedeutet, dass sie von außen nicht verändert werden können (Datenkapselung). Daher gibt es zum Ändern von Attributen meist public Methoden, die entsprechende Abfragen enthalten, damit Attribute nur korrekte Daten erhalten. Methoden sind entweder Funktionen oder Prozeduren. Im Gegensatz zu Funktionen liefern Prozeduren keinen Zückgabewert.

\subsection{Übung: Kleines 1x1}

Bei der Übung \ql Kleines 1x1\qr\ soll der unten gezeigte Output auf der Konsole ausgegeben werden. Anhand dieser Übung sollen erste Unterschiede zwischen PHP und C\# aufgezeigt werden.

\begin{lstlisting}
01 02 03 04 05 06 07 08 09 10 
02 04 06 08 10 12 14 16 18 20 
03 06 09 12 15 18 21 24 27 30 
04 08 12 16 20 24 28 32 36 40 
05 10 15 20 25 30 35 40 45 50 
06 12 18 24 30 36 42 48 54 60 
07 14 21 28 35 42 49 56 63 70 
08 16 24 32 40 48 56 64 72 80 
09 18 27 36 45 54 63 72 81 90 
10 20 30 40 50 60 70 80 90 100
\end{lstlisting}

% PHP-Lösung
\lstinputlisting
	[caption={Lösung der Übung mit PHP}
	\label{lst:6lf_dres_kleines1x1.php},
	basicstyle=\small,
	captionpos=b,
	frame=single,
	numbers=left,
	numberstyle=\small,
	numberblanklines,
	numbersep=10pt,
	xleftmargin=15pt]
	{2jahr_code/2jahr_6lf_dres_kleines1x1.php}
\newpage
% C#-Lösung
\lstinputlisting
	[caption={Lösung der Übung mit C\#}
	\label{lst:6lf_dres_kleines1x1.cs},
	basicstyle=\small,
	captionpos=b,
	frame=single,
	numbers=left,
	numberstyle=\small,
	numberblanklines,
	numbersep=10pt,
	xleftmargin=15pt]
	{2jahr_code/2jahr_6lf_dres_kleines1x1.cs}
	
\subsection{Datentypen}

\subsection{Konstruktoren}

Konstruktoren sind Methoden von Klassen, die bei der Erzeugung eines Objektes Werte übergeben. Ein Konstruktor hat keinen Rückgabetyp, auch nicht void. Eine Klasse kann mehrere Konstruktoren besitze, die jeweils eine andere Zahl an Parametern erwarten. Konstuktoren, d.h. die Methoden, werden ebenso wie die Klasse benannt.

\lstinputlisting
	[caption={Lösung der Übung mit C\#}
	\label{lst:6lf_dres_example.constructor.cs},
	basicstyle=\small,
	captionpos=b,
	frame=single,
	numbers=left,
	numberstyle=\small,
	numberblanklines,
	numbersep=10pt,
	xleftmargin=15pt]
	{2jahr_code/2jahr_6lf_dres_example.constructor.cs}
	
\subsection{Eigenschaften}

Eigenschaften sind nicht mit Attributen zu verwechseln. Eigenschaften sind eher wie Methoden. Statt je einer Set- und Get-Methode, wird eine Eigenschaft definiert, die wie im Beispiel zu sehen ist, je ein set und ein get definiert. Der Vorteil besteht darin, dass innerhalb der Get- und Set-Accessoren nochmals Logik untergebracht werden kann.

\lstinputlisting
	[caption={Beispiel: Eigenschaften}
	\label{lst:2jahr_6lf_dres_eigenschaften},
	basicstyle=\small,
	captionpos=b,
	frame=single,
	numbers=left,
	numberstyle=\small,
	numberblanklines,
	numbersep=10pt,
	xleftmargin=15pt]
	{2jahr_code/2jahr_6lf_dres_eigenschaften.cs}

\subsection{Assoziation}

\subsubsection{Aggregation und Komposition}

Aggregation und Komposition sind Spezialfälle von Assoziation und sagen jeweils etwas anderes über die Art der Assoziation aus. Bei einer Aggregation handelt es sich um eine Ganzes-Teil-Beziehung, bei der das Teil auch ohne das Ganze bestehen bleibt. Ein Beispiel dafür ist die Weiterbeschäftigung von Mitarbeitern nach der Beendigung eines Projektes. Mitarbeiter sind Teil des Ganzen, des Projektes und bleiben als Mitarbeiter nach der Beendigung bestehen. Das Verhältnis wird auch als 'weak ownership' bezeichnet. Bei einer Komposition handelt es sich ebenfalls um eine Ganzes-Teil-Beziehung, wobei das Teil nicht unabhängig vom Ganzen bestehen kann. Beispielsweise sind Kapitel immer ein Teil eines Buches und mit 'Beendigung' des Buches wird auch das Teil, das Kapitel 'beendet'. Etwas martialischer heißt das, dass das Teil mit dem Ganzen stribt. Im Gegensatz zur Aggregation wird diese Verhältnis als 'strong ownership' bezeichnet.

Der Unterschied zwischen 'weak' und 'strong ownership' bedeutet, dass ein Teilobjekt zu mehreren Aggregationsobjekten gehören kann, aber nur zu einem Kompositionsobjekt. Ein Teilobjekt kann sein Aggregationsobjekt überleben, aber nicht sein Kompositionsobjekt.

In UML wird Aggregation durch eine nicht-gefüllte Raute am Ende der Verbindung gekenntzeichnet und eine Komposition durch eine gefüllte Raute. Die Raute zeigt dabei immer auf das 'Ganze' der Ganzes-Teil-Beziehung.

\subsubsection{Restriktion}

Restriktion werden in UML durch eine gestrichelte Linie zwischen zwei Assoziationen dargestellt. Es wird zwischen (a) 'Oder'-, (b) 'Subset'- und (c) 'Reflexive'-Restriktionen unterschieden. (a) Eine 'Oder'-Restriktion bedeutet, dass entweder die eine oder die andere Assoziation zutreffen kann. Ein Beispiel dafür sind Überweisungen. Eine Überweisung kann von einem Kunden oder einem Angestellten getätigt werden, aber niemals von beiden. (b) Ein Beispiel für eine 'Subset'-Restriktion ist ein Kunde, der sowohl Kontoinhaber als auch Kontobevollmächtigter sein kann. Letzterer ist ein Subset von Kontoinhabern. Im Fall einer 'Subset'-Restriktion wird an die gestrichelte Linie ein Pfeil gesetzt, der auf das Subset zeigt. (c) Bei einem Beschäftigten kann es sich gleichzeitig um einen Mitarbeiter und um einen Vorgesetzten handeln. Diese Beziehung wird durch die reflexive Restriktion dargestellt. In UML wird ein Schleife von der Klasse zur Klasse gezeichnet, die dann mit beiden Rollen und der jeweiligen Kardinalität beschriftet wird.

\subsubsection{Vererbung}

Vererbung beschreibt eine Spezialfall-Beziehung. In UML wird diese Beziehung durch einen nicht gefüllten Pfeil vom speziellen Objekt zum allgemeinen. Um ein Attribut nicht öffentlich zu machen, um von einer abgeleiteten Klasse darauf zuzugreifen, gibt es 'protected'. 'Protected' Attribute verhalten sich nur für abegeleitete Klassen wie 'public'. 'Protected' wird in UML-Klassendiagramm durch ein '#' dargestellt.

Die IHK verwendet den Begriff 'Vererbung' nicht, sondern spricht in den Prüfungen von 'Generalisierung' und 'Spezialisierung'.